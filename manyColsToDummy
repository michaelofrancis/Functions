#A base-R script that searches over many input columns for input values 
#and returns a dataframe of dummy variables that indicate if the values 
#were present in these columns.


manyColsToDummy<-function(search_terms, search_columns,
                          output_table){
  #initialize output table
  temp_table<-data.frame(matrix(ncol=length(search_terms),
                                       nrow= nrow(search_columns)))
  colnames(temp_table)<-search_terms
  
  #make table
for (i in 1:length(search_terms)){
    vec<-rowSums(sapply(search_columns,
            function(x) grepl(search_terms[i], x, ignore.case = TRUE)
    ))>0
    temp_table[,i]<-vec
}
  #output_table<-as.character(output_table)
  temp_table<-sapply(temp_table, as.integer, as.logical)
  temp_table<-as.data.frame(temp_table)
  assign(x = output_table, value = temp_table, envir = globalenv())
}


#Example
#manyColsToDummy("find_this", big_table[,columns_to_look_in], "dummy_output_table")



